{% extends 'base_club_dashboard.html' %}
{% load static %}

{% block content %}
<style>
    /* Reuse styles from the dashboard */
    .animate-float {
        animation: float 4s ease-in-out infinite;
    }
    .animate-fadeIn {
        animation: fadeIn 0.6s ease-out forwards;
        opacity: 0;
    }
    .animate-fadeInUp {
        animation: fadeInUp 0.8s ease-out forwards;
        opacity: 0;
    }
    .animate-stagger > * {
        animation: fadeInUp 0.6s ease-out forwards;
        opacity: 0;
    }
    .btn-gradient {
        background-size: 200% auto;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    .btn-gradient:hover {
        background-position: right center;
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }
    .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateX(10px); }
        to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animated-bg {
        animation: gradientBG 15s ease infinite;
        background-size: 300% 300%;
    }
    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
    /* Scrollbar styling */
    ::-webkit-scrollbar {
        width: 8px;
    }
    ::-webkit-scrollbar-track {
        background: #eff6ff; /* blue-50 */
    }
    ::-webkit-scrollbar-thumb {
        background: #3b82f6; /* blue-500 */
        border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
        background: #2563eb; /* blue-600 */
    }
    /* Input focus styles */
    input:focus, textarea:focus, select:focus {
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.2);
        transform: translateY(-1px);
    }
    /* Form section hover effect */
    .form-section:hover {
        background-color: #f3f4f6 !important; /* gray-100 */
        transition: background-color 0.3s ease;
    }
</style>

<div class="animated-bg bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen flex items-center justify-center">
    <div class="container mx-auto py-12 px-4 sm:px-6 lg:px-8 {% if LANGUAGE_CODE == 'ar' %}xl:pr-[20%]{% else %}xl:pl-[20%]{% endif %}">
        <div class="stat-card bg-white shadow-2xl rounded-xl overflow-hidden max-w-4xl mx-auto border border-gray-100 animate-[fadeInUp_0.8s_ease-out]">
            <form method="post" enctype="multipart/form-data" class="space-y-8">
                {% csrf_token %}
                <div class="px-6 py-8 sm:px-10 bg-gradient-to-r from-blue-500 to-blue-600">
                    <h2 class="text-3xl font-extrabold text-white mb-8 text-center flex items-center justify-center">
                        <svg class="w-6 h-6 mr-2" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.379-8.379-2.828-2.828z"/>
                        </svg>
                        {% if LANGUAGE_CODE == 'ar' %}
                        تعديل الملف الشخصي للمدير
                        {% else %}
                        Edit Director Profile
                        {% endif %}
                        <span class="ml-2 text-blue-200">✨</span>
                    </h2>
                    <div
                            class="flex flex-col lg:flex-row items-start space-y-8 lg:space-y-0 lg:space-x-8 lg:rtl:space-x-reverse"
                    >
                        <div class="flex-shrink-0 w-full lg:w-auto">
                            <label for="profile_image_base64" class="block text-sm font-medium text-blue-100 mb-2 flex items-center">
                                {% if LANGUAGE_CODE == 'ar' %}
                                صورة الملف الشخصي
                                {% else %}
                                Profile Image
                                {% endif %}
                            </label>
                            <div class="relative">
                                <img
                                    id="profileImagePreview"
                                    class="h-32 w-32 rounded-full border-4 border-blue-200 mx-auto lg:mx-0 shadow-md transition-all duration-300 group-hover:shadow-blue-200 object-cover"
                                    src="{{ userprofile.profile_image_base64|default:'https://via.placeholder.com/128' }}"
                                    alt="{% if LANGUAGE_CODE == 'ar' %}صورة الملف الشخصي لمدير المنصة{% else %}Salon Director Profile Image{% endif %}"
                                />
                                <input
                                        type="file"
                                        id="profile_image_base64"
                                        name="profile_image_base64"
                                        accept="image/*"
                                        class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
                                        onchange="previewImage(this)"
                                />
                                <div
                                        class="absolute bottom-0 right-0 bg-blue-600 rounded-full p-2 text-white transition duration-300 hover:bg-blue-700 transform hover:scale-110"
                                >
                                    <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            class="h-6 w-6"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke="currentColor"
                                    >
                                        <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"
                                        />
                                        <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                stroke-width="2"
                                                d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"
                                        />
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="flex-grow space-y-6 w-full animate-stagger">
                            <div class="form-section animate-[fadeInUp_0.6s_ease-out_0.3s_both]">
                                <label for="full_name" class="block text-sm font-medium text-blue-100 mb-1 flex items-center">
                                    <svg class="w-5 h-5 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                        <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                                    </svg>
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    الاسم الكامل
                                    {% else %}
                                    Full Name
                                    {% endif %}
                                </label>
                                {{ form.full_name }}
                            </div>
                            <div class="form-section animate-[fadeInUp_0.6s_ease-out_0.4s_both]">
                                <label for="phone" class="block text-sm font-medium text-blue-100 mb-1 flex items-center">
                                    <svg class="w-5 h-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                    </svg>
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    رقم الهاتف
                                    {% else %}
                                    Phone Number
                                    {% endif %}
                                </label>
                                {{ form.phone }}
                            </div>
                            <div class="form-section animate-[fadeInUp_0.6s_ease-out_0.5s_both]">
                                <label for="about" class="block text-sm font-medium text-blue-100 mb-1 flex items-center">
                                    <svg class="w-5 h-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    نبذة عني
                                    {% else %}
                                    About Me
                                    {% endif %}
                                </label>
                                {{ form.about }}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="px-6 py-4 bg-gray-50 sm:px-10 flex {% if LANGUAGE_CODE == 'ar' %}justify-end flex-row-reverse{% else %}justify-start{% endif %} form-section animate-[fadeInUp_0.6s_ease-out_0.6s_both]">
                    <button
                        type="submit"
                        class="btn-gradient bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-all duration-300"
                    >
                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        {% if LANGUAGE_CODE == 'ar' %}
                        حفظ التغييرات
                        {% else %}
                        Save Changes
                        {% endif %}
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    function previewImage(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('profileImagePreview').src = e.target.result;
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
{% endblock %}