{% extends "base_club_dashboard.html" %}
{% load static %}

{% block content %}
<style>
    /* Animation Classes */
    .animate-float {
        animation: float 4s ease-in-out infinite;
    }
    
    .animate-fadeIn {
        animation: fadeIn 0.6s ease-out forwards;
        opacity: 0;
    }
    
    .animate-fadeInUp {
        animation: fadeInUp 0.8s ease-out forwards;
        opacity: 0;
    }
    
    .animate-stagger > * {
        animation: fadeInUp 0.6s ease-out forwards;
        opacity: 0;
    }
    
    .animate-stagger > *:nth-child(1) { animation-delay: 0.1s; }
    .animate-stagger > *:nth-child(2) { animation-delay: 0.2s; }
    .animate-stagger > *:nth-child(3) { animation-delay: 0.3s; }
    .animate-stagger > *:nth-child(4) { animation-delay: 0.4s; }
    .animate-stagger > *:nth-child(5) { animation-delay: 0.5s; }
    .animate-stagger > *:nth-child(6) { animation-delay: 0.6s; }
    .animate-stagger > *:nth-child(7) { animation-delay: 0.7s; }
    
    /* Button Effects */
    .btn-gradient {
        background-size: 200% auto;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    .btn-gradient:hover {
        background-position: right center;
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
    }
    
    /* Table Row Effects */
    .table-row {
        transition: all 0.3s ease;
    }
    
    .table-row:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
    }
    
    /* Keyframes */
    @keyframes float {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; transform: translateX(10px); }
        to { opacity: 1; transform: translateX(0); }
    }
    
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    /* Background Animation */
    .animated-bg {
        animation: gradientBG 15s ease infinite;
        background-size: 300% 300%;
    }
    
    @keyframes gradientBG {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }
</style>

<section class="animated-bg bg-gradient-to-br from-blue-50 to-purple-50 w-full min-h-screen py-12 px-4 md:px-8 {% if LANGUAGE_CODE == 'ar' %}md:pr-[20%]{% else %}md:pl-[20%]{% endif %} font-sans">
  <div class="container mx-auto max-w-6xl">
    <div class="bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden">
      <div class="bg-gradient-to-r from-blue-500 to-purple-500 text-white py-6 px-6 md:px-8">
        <div class="text-center animate-fadeIn">
          <div class="flex justify-center items-center gap-3 mb-3">
            <div class="p-2 bg-blue-100 rounded-full text-blue-600 animate-float">
              <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h1 class="text-2xl md:text-4xl font-bold text-white drop-shadow-md">
              {% if LANGUAGE_CODE == 'ar' %}مواعيد الصالون{% else %}Salon Schedule{% endif %}
            </h1>
          </div>
          <p class="text-base md:text-xl max-w-2xl mx-auto text-gray-100">
            {% if LANGUAGE_CODE == 'ar' %}اختاري الموعد المناسب لكِ من الجدول أدناه لحجز خدمتك في الصالون{% else %}Choose the suitable appointment from the schedule below to book your salon service{% endif %}
          </p>
        </div>
      </div>

      <div class="p-4 md:p-8 animate-fadeInUp">
        <div class="overflow-x-auto">
          <table class="w-full border-collapse rounded-xl shadow-lg bg-white">
            <thead>
            <tr class="bg-gradient-to-r from-blue-500 to-purple-500 text-white">
              <th class="border border-gray-200 p-3 font-semibold text-sm md:text-base">{% if LANGUAGE_CODE == 'ar' %}اليوم{% else %}Day{% endif %}</th>
              {% for hour in hours %}
              <th class="border border-gray-200 p-3 font-semibold text-sm md:text-base">{{ hour }}</th>
              {% endfor %}
            </tr>
            </thead>
            <tbody class="animate-stagger">
            {% for day, slots in schedule.items %}
            <tr class="text-center table-row bg-white">
              <td class="border border-gray-100 p-3 font-semibold bg-gray-50 text-gray-800 text-sm md:text-base">{{ day }}</td>
              {% for slot in slots %}
              <td class="border border-gray-100 p-3">
                {% if slot.available %}
                <a href="{% url 'studentViewServices' %}"
                   class="btn-gradient bg-gradient-to-r from-blue-500 to-blue-600 text-white px-3 py-1.5 rounded-lg text-sm font-medium shadow-sm flex items-center justify-center mx-auto gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  {% if LANGUAGE_CODE == 'ar' %}متاح{% else %}Available{% endif %}
                </a>
                {% else %}
                <span class="text-gray-500 font-medium text-sm md:text-base">{% if LANGUAGE_CODE == 'ar' %}محجوز{% else %}Booked{% endif %}</span>
                {% endif %}
              </td>
              {% endfor %}
            </tr>
            {% empty %}
            <tr class="bg-white border-b animate-fadeInUp">
              <td colspan="{{ hours|length|add:1 }}" class="px-6 py-8 text-center text-gray-500">
                <div class="flex flex-col items-center justify-center">
                  <svg class="w-16 h-16 text-gray-300 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                  </svg>
                  <p class="text-lg text-gray-600">
                    {% if LANGUAGE_CODE == 'ar' %}لا توجد مواعيد متاحة حاليًا{% else %}No appointments available at the moment{% endif %}
                  </p>
                </div>
              </td>
            </tr>
            {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock content %}