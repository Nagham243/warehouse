{% extends "base_club_dashboard.html" %}
{% load static %}

{% block content %}
<style>
  /* Animation Classes */
  .animate-float {
      animation: float 4s ease-in-out infinite;
  }

  .animate-fadeIn {
      animation: fadeIn 0.6s ease-out forwards;
      opacity: 0;
  }

  .animate-fadeInUp {
      animation: fadeInUp 0.8s ease-out forwards;
      opacity: 0;
  }

  .animate-stagger > * {
      animation: fadeInUp 0.6s ease-out forwards;
      opacity: 0;
  }

  /* Button Effects */
  .btn-gradient {
      background-size: 200% auto;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  }

  .btn-gradient:hover {
      background-position: right center;
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
  }

  /* Keyframes */
  @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
  }

  @keyframes fadeIn {
      from { opacity: 0; transform: translateX(10px); }
      to { opacity: 1; transform: translateX(0); }
  }

  @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
  }

  /* Background Animation */
  .animated-bg {
      animation: gradientBG 15s ease infinite;
      background-size: 300% 300%;
  }

  @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
  }

  /* Form Styles */
  .form-input {
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 12px 15px;
      transition: all 0.3s;
  }

  .form-input:focus {
      border-color: #6366f1;
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
  }
</style>

<section class="animated-bg bg-gradient-to-br from-blue-50 to-purple-50 w-full min-h-screen p-4 md:p-8">
  <div class="max-w-6xl mx-auto {% if LANGUAGE_CODE == 'ar' %}md:pr-[20%]{% else %}md:pl-[20%]{% endif %}">
    <div class="flex items-center space-x-4 space-x-reverse mb-8 animate-fadeIn">
      <div class="p-3 rounded-full bg-blue-100 text-blue-600 animate-float">
        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"/>
        </svg>
      </div>
      <div>
        <h1 class="text-3xl font-bold text-gray-800">
          {% if LANGUAGE_CODE == 'ar' %}إضافة موظف جديد{% else %}Add New Staff Member{% endif %}
        </h1>
        <p class="text-gray-600">
          {% if LANGUAGE_CODE == 'ar' %}
          إضافة موظف جديد إلى النظام
          {% else %}
          Add a new staff member to the system
          {% endif %}
        </p>
      </div>
    </div>

    <div class="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-100 p-6 md:p-8 animate-fadeInUp">
      <form method="post" class="space-y-6" x-data="{ selectedRole: '6' }">
        {% csrf_token %}

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Role Selection -->
          <div class="md:col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}منصب الموظف{% else %}Staff Role{% endif %}
            </label>
            <select name="role" x-model="selectedRole" required
                    class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200">
              {% for role_code, role_name_ar, role_name_en in role_choices %}
              <option value="{{ role_code }}">
                {% if LANGUAGE_CODE == 'ar' %}{{ role_name_ar }}{% else %}{{ role_name_en }}{% endif %}
              </option>
              {% endfor %}
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}اسم المستخدم{% else %}Username{% endif %}
            </label>
            <input type="text" name="username" required
                   class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200"/>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}البريد الإلكتروني{% else %}Email{% endif %}
            </label>
            <input type="email" name="email"
                   x-bind:required="selectedRole === '5' || selectedRole === '6' || selectedRole === '7'"
                   class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200"/>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}الاسم الكامل{% else %}Full Name{% endif %}
            </label>
            <input type="text" name="full_name" required
                   class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200"/>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}رقم الهاتف{% else %}Phone Number{% endif %}
            </label>
            <input type="tel" name="phone" required
                   class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200"/>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}كلمة المرور{% else %}Password{% endif %}
            </label>
            <input type="password" name="password" required
                   class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200"/>
          </div>

          <!-- About field - for all roles except coaches -->
          <div x-show="selectedRole !== '4'" class="md:col-span-2">
            <label class="block text-sm font-medium text-gray-700 mb-2">
              {% if LANGUAGE_CODE == 'ar' %}نبذة{% else %}About{% endif %}
            </label>
            <textarea name="about" rows="3"
                      class="form-input w-full bg-white focus:ring-2 focus:ring-blue-200"></textarea>
          </div>
        </div>

        <div class="flex justify-end space-x-4 rtl:space-x-reverse pt-4">
          <a href="{% url 'viewDirectors' %}"
             class="px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-all duration-300 flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
            </svg>
            {% if LANGUAGE_CODE == 'ar' %}إلغاء{% else %}Cancel{% endif %}
          </a>
          <button type="submit"
                  class="btn-gradient px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg shadow-md hover:shadow-lg flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6" />
            </svg>
            {% if LANGUAGE_CODE == 'ar' %}إضافة الموظف{% else %}Add Staff Member{% endif %}
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock content %}